{
	"version": 3,
	"names": [
		"is",
		"normalize",
		"type",
		"listeners",
		"filter",
		"_typeOrPrefix",
		"result",
		"string",
		"search",
		"split",
		"array",
		"forEach",
		"t",
		"object",
		"func",
		"push",
		"l",
		"prefix",
		"combinedTypes",
		"map",
		"p",
		"trim"
	],
	"sources": [
		"normalizeListeners.ts"
	],
	"sourcesContent": [
		"import type { EventTypes, Listener, ListenersArg } from '@interactjs/core/types'\n\nimport is from './is'\n\nexport interface NormalizedListeners {\n  [type: string]: Listener[]\n}\n\nexport default function normalize (\n  type: EventTypes,\n  listeners?: ListenersArg | ListenersArg[] | null,\n  filter = (_typeOrPrefix: string) => true,\n  result?: NormalizedListeners,\n): NormalizedListeners {\n  result = result || {}\n\n  if (is.string(type) && type.search(' ') !== -1) {\n    type = split(type)\n  }\n\n  if (is.array(type)) {\n    type.forEach((t) => normalize(t, listeners, filter, result))\n    return result\n  }\n\n  // before:  type = [{ drag: () => {} }], listeners = undefined\n  // after:   type = ''                  , listeners = [{ drag: () => {} }]\n  if (is.object(type)) {\n    listeners = type\n    type = ''\n  }\n\n  if (is.func(listeners) && filter(type)) {\n    result[type] = result[type] || []\n    result[type].push(listeners)\n  } else if (is.array(listeners)) {\n    for (const l of listeners) {\n      normalize(type, l, filter, result)\n    }\n  } else if (is.object(listeners)) {\n    for (const prefix in listeners) {\n      const combinedTypes = split(prefix).map((p) => `${type}${p}`)\n\n      normalize(combinedTypes, listeners[prefix], filter, result)\n    }\n  }\n\n  return result as NormalizedListeners\n}\n\nfunction split (type: string) {\n  return type.trim().split(/ +/)\n}\n"
	],
	"mappings": "AAEA,OAAOA,EAAP,MAAe,MAAf;AAMA,eAAe,SAASC,SAAT,CACbC,IADa,EAEbC,SAFa,EAGbC,MAAM,GAAIC,aAAD,IAA2B,IAHvB,EAIbC,MAJa,EAKQ;EACrBA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;EAEA,IAAIN,EAAE,CAACO,MAAH,CAAUL,IAAV,KAAmBA,IAAI,CAACM,MAAL,CAAY,GAAZ,MAAqB,CAAC,CAA7C,EAAgD;IAC9CN,IAAI,GAAGO,KAAK,CAACP,IAAD,CAAZ;EACD;;EAED,IAAIF,EAAE,CAACU,KAAH,CAASR,IAAT,CAAJ,EAAoB;IAClBA,IAAI,CAACS,OAAL,CAAcC,CAAD,IAAOX,SAAS,CAACW,CAAD,EAAIT,SAAJ,EAAeC,MAAf,EAAuBE,MAAvB,CAA7B;IACA,OAAOA,MAAP;EACD,CAVoB,CAYrB;EACA;;;EACA,IAAIN,EAAE,CAACa,MAAH,CAAUX,IAAV,CAAJ,EAAqB;IACnBC,SAAS,GAAGD,IAAZ;IACAA,IAAI,GAAG,EAAP;EACD;;EAED,IAAIF,EAAE,CAACc,IAAH,CAAQX,SAAR,KAAsBC,MAAM,CAACF,IAAD,CAAhC,EAAwC;IACtCI,MAAM,CAACJ,IAAD,CAAN,GAAeI,MAAM,CAACJ,IAAD,CAAN,IAAgB,EAA/B;IACAI,MAAM,CAACJ,IAAD,CAAN,CAAaa,IAAb,CAAkBZ,SAAlB;EACD,CAHD,MAGO,IAAIH,EAAE,CAACU,KAAH,CAASP,SAAT,CAAJ,EAAyB;IAC9B,KAAK,MAAMa,CAAX,IAAgBb,SAAhB,EAA2B;MACzBF,SAAS,CAACC,IAAD,EAAOc,CAAP,EAAUZ,MAAV,EAAkBE,MAAlB,CAAT;IACD;EACF,CAJM,MAIA,IAAIN,EAAE,CAACa,MAAH,CAAUV,SAAV,CAAJ,EAA0B;IAC/B,KAAK,MAAMc,MAAX,IAAqBd,SAArB,EAAgC;MAC9B,MAAMe,aAAa,GAAGT,KAAK,CAACQ,MAAD,CAAL,CAAcE,GAAd,CAAmBC,CAAD,IAAQ,GAAElB,IAAK,GAAEkB,CAAE,EAArC,CAAtB;MAEAnB,SAAS,CAACiB,aAAD,EAAgBf,SAAS,CAACc,MAAD,CAAzB,EAAmCb,MAAnC,EAA2CE,MAA3C,CAAT;IACD;EACF;;EAED,OAAOA,MAAP;AACD;;AAED,SAASG,KAAT,CAAgBP,IAAhB,EAA8B;EAC5B,OAAOA,IAAI,CAACmB,IAAL,GAAYZ,KAAZ,CAAkB,IAAlB,CAAP;AACD"
}