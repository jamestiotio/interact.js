{
	"version": 3,
	"names": [
		"arr",
		"domUtils",
		"is",
		"pExtend",
		"pointerUtils",
		"install",
		"scope",
		"targets",
		"delegatedEvents",
		"documents",
		"eventsMethods",
		"add",
		"remove",
		"addDelegate",
		"removeDelegate",
		"delegateListener",
		"delegateUseCapture",
		"supportsOptions",
		"supportsPassive",
		"document",
		"createElement",
		"addEventListener",
		"capture",
		"passive",
		"events",
		"eventTarget",
		"type",
		"listener",
		"optionalArg",
		"options",
		"getOptions",
		"target",
		"find",
		"t",
		"push",
		"l",
		"func",
		"optionsMatch",
		"removeEventListener",
		"targetIndex",
		"findIndex",
		"hasOwnProperty",
		"typeIsEmpty",
		"typeListeners",
		"i",
		"length",
		"entry",
		"splice",
		"Object",
		"keys",
		"selector",
		"context",
		"doc",
		"delegates",
		"delegate",
		"d",
		"listeners",
		"matchFound",
		"index",
		"cur",
		"event",
		"fakeEvent",
		"FakeEvent",
		"getEventTargets",
		"element",
		"matchesSelector",
		"nodeContains",
		"currentTarget",
		"parentNode",
		"call",
		"originalEvent",
		"constructor",
		"preventOriginalDefault",
		"preventDefault",
		"stopPropagation",
		"stopImmediatePropagation",
		"param",
		"object",
		"a",
		"b",
		"id"
	],
	"sources": [
		"events.ts"
	],
	"sourcesContent": [
		"import type { Scope } from '@interactjs/core/scope'\nimport type { Element } from '@interactjs/core/types'\nimport * as arr from '@interactjs/utils/arr'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\nimport pExtend from '@interactjs/utils/pointerExtend'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nimport type { NativeEventTarget } from './NativeTypes'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    events: ReturnType<typeof install>\n  }\n}\n\ninterface EventOptions {\n  capture: boolean\n  passive: boolean\n}\n\ntype PartialEventTarget = Partial<NativeEventTarget>\n\ntype ListenerEntry = { func: (event: Event | FakeEvent) => any, options: EventOptions }\n\nfunction install (scope: Scope) {\n  const targets: Array<{\n    eventTarget: PartialEventTarget\n    events: { [type: string]: ListenerEntry[] }\n  }> = []\n\n  const delegatedEvents: {\n    [type: string]: Array<{\n      selector: string\n      context: Node\n      listeners: ListenerEntry[]\n    }>\n  } = {}\n  const documents: Document[] = []\n\n  const eventsMethods = {\n    add,\n    remove,\n\n    addDelegate,\n    removeDelegate,\n\n    delegateListener,\n    delegateUseCapture,\n    delegatedEvents,\n    documents,\n\n    targets,\n\n    supportsOptions: false,\n    supportsPassive: false,\n  }\n\n  // check if browser supports passive events and options arg\n  scope.document?.createElement('div').addEventListener('test', null, {\n    get capture () {\n      return (eventsMethods.supportsOptions = true)\n    },\n    get passive () {\n      return (eventsMethods.supportsPassive = true)\n    },\n  })\n\n  scope.events = eventsMethods\n\n  function add (\n    eventTarget: PartialEventTarget,\n    type: string,\n    listener: ListenerEntry['func'],\n    optionalArg?: boolean | EventOptions,\n  ) {\n    if (!eventTarget.addEventListener) return\n\n    const options = getOptions(optionalArg)\n    let target = arr.find(targets, (t) => t.eventTarget === eventTarget)\n\n    if (!target) {\n      target = {\n        eventTarget,\n        events: {},\n      }\n\n      targets.push(target)\n    }\n\n    if (!target.events[type]) {\n      target.events[type] = []\n    }\n\n    if (!arr.find(target.events[type], (l) => l.func === listener && optionsMatch(l.options, options))) {\n      eventTarget.addEventListener(\n        type,\n        listener as any,\n        eventsMethods.supportsOptions ? options : options.capture,\n      )\n      target.events[type].push({ func: listener, options })\n    }\n  }\n\n  function remove (\n    eventTarget: PartialEventTarget,\n    type: string,\n    listener?: 'all' | ListenerEntry['func'],\n    optionalArg?: boolean | EventOptions,\n  ) {\n    if (!eventTarget.addEventListener || !eventTarget.removeEventListener) return\n\n    const targetIndex = arr.findIndex(targets, (t) => t.eventTarget === eventTarget)\n    const target = targets[targetIndex]\n\n    if (!target || !target.events) {\n      return\n    }\n\n    if (type === 'all') {\n      for (type in target.events) {\n        if (target.events.hasOwnProperty(type)) {\n          remove(eventTarget, type, 'all')\n        }\n      }\n      return\n    }\n\n    let typeIsEmpty = false\n    const typeListeners = target.events[type]\n\n    if (typeListeners) {\n      if (listener === 'all') {\n        for (let i = typeListeners.length - 1; i >= 0; i--) {\n          const entry = typeListeners[i]\n          remove(eventTarget, type, entry.func, entry.options)\n        }\n        return\n      } else {\n        const options = getOptions(optionalArg)\n\n        for (let i = 0; i < typeListeners.length; i++) {\n          const entry = typeListeners[i]\n          if (entry.func === listener && optionsMatch(entry.options, options)) {\n            eventTarget.removeEventListener(\n              type,\n              listener as any,\n              eventsMethods.supportsOptions ? options : options.capture,\n            )\n            typeListeners.splice(i, 1)\n\n            if (typeListeners.length === 0) {\n              delete target.events[type]\n              typeIsEmpty = true\n            }\n\n            break\n          }\n        }\n      }\n    }\n\n    if (typeIsEmpty && !Object.keys(target.events).length) {\n      targets.splice(targetIndex, 1)\n    }\n  }\n\n  function addDelegate (\n    selector: string,\n    context: Node,\n    type: string,\n    listener: ListenerEntry['func'],\n    optionalArg?: any,\n  ) {\n    const options = getOptions(optionalArg)\n    if (!delegatedEvents[type]) {\n      delegatedEvents[type] = []\n\n      // add delegate listener functions\n      for (const doc of documents) {\n        add(doc, type, delegateListener)\n        add(doc, type, delegateUseCapture, true)\n      }\n    }\n\n    const delegates = delegatedEvents[type]\n    let delegate = arr.find(delegates, (d) => d.selector === selector && d.context === context)\n\n    if (!delegate) {\n      delegate = { selector, context, listeners: [] }\n      delegates.push(delegate)\n    }\n\n    delegate.listeners.push({ func: listener, options })\n  }\n\n  function removeDelegate (\n    selector: string,\n    context: Document | Element,\n    type: string,\n    listener?: ListenerEntry['func'],\n    optionalArg?: any,\n  ) {\n    const options = getOptions(optionalArg)\n    const delegates = delegatedEvents[type]\n    let matchFound = false\n    let index: number\n\n    if (!delegates) return\n\n    // count from last index of delegated to 0\n    for (index = delegates.length - 1; index >= 0; index--) {\n      const cur = delegates[index]\n      // look for matching selector and context Node\n      if (cur.selector === selector && cur.context === context) {\n        const { listeners } = cur\n\n        // each item of the listeners array is an array: [function, capture, passive]\n        for (let i = listeners.length - 1; i >= 0; i--) {\n          const entry = listeners[i]\n\n          // check if the listener functions and capture and passive flags match\n          if (entry.func === listener && optionsMatch(entry.options, options)) {\n            // remove the listener from the array of listeners\n            listeners.splice(i, 1)\n\n            // if all listeners for this target have been removed\n            // remove the target from the delegates array\n            if (!listeners.length) {\n              delegates.splice(index, 1)\n\n              // remove delegate function from context\n              remove(context, type, delegateListener)\n              remove(context, type, delegateUseCapture, true)\n            }\n\n            // only remove one listener\n            matchFound = true\n            break\n          }\n        }\n\n        if (matchFound) {\n          break\n        }\n      }\n    }\n  }\n\n  // bound to the interactable context when a DOM event\n  // listener is added to a selector interactable\n  function delegateListener (event: Event | FakeEvent, optionalArg?: any) {\n    const options = getOptions(optionalArg)\n    const fakeEvent = new FakeEvent(event as Event)\n    const delegates = delegatedEvents[event.type]\n    const [eventTarget] = pointerUtils.getEventTargets(event as Event)\n    let element: Node = eventTarget\n\n    // climb up document tree looking for selector matches\n    while (is.element(element)) {\n      for (let i = 0; i < delegates.length; i++) {\n        const cur = delegates[i]\n        const { selector, context } = cur\n\n        if (\n          domUtils.matchesSelector(element, selector) &&\n          domUtils.nodeContains(context, eventTarget) &&\n          domUtils.nodeContains(context, element)\n        ) {\n          const { listeners } = cur\n\n          fakeEvent.currentTarget = element\n\n          for (const entry of listeners) {\n            if (optionsMatch(entry.options, options)) {\n              entry.func(fakeEvent)\n            }\n          }\n        }\n      }\n\n      element = domUtils.parentNode(element)\n    }\n  }\n\n  function delegateUseCapture (this: Element, event: Event | FakeEvent) {\n    return delegateListener.call(this, event, true)\n  }\n\n  // for type inferrence\n  return eventsMethods\n}\n\nclass FakeEvent implements Partial<Event> {\n  currentTarget: Node\n  originalEvent: Event\n  type: string\n\n  constructor (originalEvent: Event) {\n    this.originalEvent = originalEvent\n    // duplicate the event so that currentTarget can be changed\n    pExtend(this, originalEvent)\n  }\n\n  preventOriginalDefault () {\n    this.originalEvent.preventDefault()\n  }\n\n  stopPropagation () {\n    this.originalEvent.stopPropagation()\n  }\n\n  stopImmediatePropagation () {\n    this.originalEvent.stopImmediatePropagation()\n  }\n}\n\nfunction getOptions (param: { [index: string]: any } | boolean): { capture: boolean, passive: boolean } {\n  if (!is.object(param)) {\n    return { capture: !!param, passive: false }\n  }\n\n  return {\n    capture: !!param.capture,\n    passive: !!param.passive,\n  }\n}\n\nfunction optionsMatch (a: Partial<EventOptions> | boolean, b: Partial<EventOptions>) {\n  if (a === b) return true\n\n  if (typeof a === 'boolean') return !!b.capture === a && !!b.passive === false\n\n  return !!a.capture === !!b.capture && !!a.passive === !!b.passive\n}\n\nexport default {\n  id: 'events',\n  install,\n}\n"
	],
	"mappings": "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"
}