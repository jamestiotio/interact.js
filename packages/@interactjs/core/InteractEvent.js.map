{
	"version": 3,
	"sources": [
		"InteractEvent.ts"
	],
	"names": [
		"extend",
		"getOriginXY",
		"hypot",
		"BaseEvent",
		"defaults",
		"InteractEvent",
		"relatedTarget",
		"screenX",
		"screenY",
		"button",
		"buttons",
		"ctrlKey",
		"shiftKey",
		"altKey",
		"metaKey",
		"page",
		"client",
		"delta",
		"rect",
		"x0",
		"y0",
		"t0",
		"dt",
		"duration",
		"clientX0",
		"clientY0",
		"velocity",
		"speed",
		"swipe",
		"axes",
		"preEnd",
		"constructor",
		"interaction",
		"event",
		"actionName",
		"phase",
		"element",
		"type",
		"target",
		"interactable",
		"deltaSource",
		"options",
		"origin",
		"starting",
		"ending",
		"prevEvent",
		"coords",
		"start",
		"timeStamp",
		"cur",
		"x",
		"y",
		"currentTarget",
		"pointers",
		"length",
		"downTime",
		"getSwipe",
		"_interaction",
		"angle",
		"Math",
		"atan2",
		"velocityY",
		"velocityX",
		"PI",
		"overlap",
		"left",
		"up",
		"right",
		"down",
		"preventDefault",
		"stopImmediatePropagation",
		"immediatePropagationStopped",
		"propagationStopped",
		"stopPropagation",
		"Object",
		"defineProperties",
		"prototype",
		"pageX",
		"get",
		"set",
		"value",
		"pageY",
		"clientX",
		"clientY",
		"dx",
		"dy"
	],
	"mappings": "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",
	"sourcesContent": [
		"import type { Point, FullRect, PointerEventType, Element } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport getOriginXY from '@interactjs/utils/getOriginXY'\nimport hypot from '@interactjs/utils/hypot'\n\nimport { BaseEvent } from './BaseEvent'\nimport type { Interaction } from './Interaction'\nimport { defaults } from './options'\nimport type { ActionName } from './scope'\n\nexport type EventPhase = keyof PhaseMap\n\nexport interface PhaseMap {\n  start: true\n  move: true\n  end: true\n}\n\n// defined outside of class definition to avoid assignment of undefined during\n// construction\nexport interface InteractEvent {\n  pageX: number\n  pageY: number\n\n  clientX: number\n  clientY: number\n\n  dx: number\n  dy: number\n\n  velocityX: number\n  velocityY: number\n}\n\nexport class InteractEvent<\n  T extends ActionName = never,\n  P extends EventPhase = EventPhase,\n> extends BaseEvent<T> {\n  declare target: Element\n  declare currentTarget: Element\n  relatedTarget: Element | null = null\n  screenX?: number\n  screenY?: number\n  button: number\n  buttons: number\n  ctrlKey: boolean\n  shiftKey: boolean\n  altKey: boolean\n  metaKey: boolean\n  page: Point\n  client: Point\n  delta: Point\n  rect: FullRect\n  x0: number\n  y0: number\n  t0: number\n  dt: number\n  duration: number\n  clientX0: number\n  clientY0: number\n  velocity: Point\n  speed: number\n  swipe: ReturnType<InteractEvent<T>['getSwipe']>\n  // resize\n  axes?: 'x' | 'y' | 'xy'\n  preEnd?: boolean\n\n  /** */\n  constructor (\n    interaction: Interaction<T>,\n    event: PointerEventType,\n    actionName: T,\n    phase: P,\n    element: Element,\n    preEnd?: boolean,\n    type?: string,\n  ) {\n    super(interaction)\n\n    element = element || interaction.element\n\n    const target = interaction.interactable\n    const deltaSource = (((target && target.options) || defaults) as any).deltaSource as 'page' | 'client'\n    const origin = getOriginXY(target, element, actionName)\n    const starting = phase === 'start'\n    const ending = phase === 'end'\n    const prevEvent = starting ? this : interaction.prevEvent\n    const coords = starting\n      ? interaction.coords.start\n      : ending\n        ? { page: prevEvent.page, client: prevEvent.client, timeStamp: interaction.coords.cur.timeStamp }\n        : interaction.coords.cur\n\n    this.page = extend({}, coords.page)\n    this.client = extend({}, coords.client)\n    this.rect = extend({}, interaction.rect)\n    this.timeStamp = coords.timeStamp\n\n    if (!ending) {\n      this.page.x -= origin.x\n      this.page.y -= origin.y\n\n      this.client.x -= origin.x\n      this.client.y -= origin.y\n    }\n\n    this.ctrlKey = event.ctrlKey\n    this.altKey = event.altKey\n    this.shiftKey = event.shiftKey\n    this.metaKey = event.metaKey\n    this.button = (event as MouseEvent).button\n    this.buttons = (event as MouseEvent).buttons\n    this.target = element\n    this.currentTarget = element\n    this.preEnd = preEnd\n    this.type = type || actionName + (phase || '')\n    this.interactable = target\n\n    this.t0 = starting ? interaction.pointers[interaction.pointers.length - 1].downTime : prevEvent.t0\n\n    this.x0 = interaction.coords.start.page.x - origin.x\n    this.y0 = interaction.coords.start.page.y - origin.y\n    this.clientX0 = interaction.coords.start.client.x - origin.x\n    this.clientY0 = interaction.coords.start.client.y - origin.y\n\n    if (starting || ending) {\n      this.delta = { x: 0, y: 0 }\n    } else {\n      this.delta = {\n        x: this[deltaSource].x - prevEvent[deltaSource].x,\n        y: this[deltaSource].y - prevEvent[deltaSource].y,\n      }\n    }\n\n    this.dt = interaction.coords.delta.timeStamp\n    this.duration = this.timeStamp - this.t0\n\n    // velocity and speed in pixels per second\n    this.velocity = extend({}, interaction.coords.velocity[deltaSource])\n    this.speed = hypot(this.velocity.x, this.velocity.y)\n\n    this.swipe = ending || phase === 'inertiastart' ? this.getSwipe() : null\n  }\n\n  getSwipe () {\n    const interaction = this._interaction\n\n    if (interaction.prevEvent.speed < 600 || this.timeStamp - interaction.prevEvent.timeStamp > 150) {\n      return null\n    }\n\n    let angle = (180 * Math.atan2(interaction.prevEvent.velocityY, interaction.prevEvent.velocityX)) / Math.PI\n    const overlap = 22.5\n\n    if (angle < 0) {\n      angle += 360\n    }\n\n    const left = 135 - overlap <= angle && angle < 225 + overlap\n    const up = 225 - overlap <= angle && angle < 315 + overlap\n\n    const right = !left && (315 - overlap <= angle || angle < 45 + overlap)\n    const down = !up && 45 - overlap <= angle && angle < 135 + overlap\n\n    return {\n      up,\n      down,\n      left,\n      right,\n      angle,\n      speed: interaction.prevEvent.speed,\n      velocity: {\n        x: interaction.prevEvent.velocityX,\n        y: interaction.prevEvent.velocityY,\n      },\n    }\n  }\n\n  preventDefault () {}\n\n  /**\n   * Don't call listeners on the remaining targets\n   */\n  stopImmediatePropagation () {\n    this.immediatePropagationStopped = this.propagationStopped = true\n  }\n\n  /**\n   * Don't call any other listeners (even on the current target)\n   */\n  stopPropagation () {\n    this.propagationStopped = true\n  }\n}\n\n// getters and setters defined here to support typescript 3.6 and below which\n// don't support getter and setters in .d.ts files\nObject.defineProperties(InteractEvent.prototype, {\n  pageX: {\n    get () {\n      return this.page.x\n    },\n    set (value) {\n      this.page.x = value\n    },\n  },\n  pageY: {\n    get () {\n      return this.page.y\n    },\n    set (value) {\n      this.page.y = value\n    },\n  },\n\n  clientX: {\n    get () {\n      return this.client.x\n    },\n    set (value) {\n      this.client.x = value\n    },\n  },\n  clientY: {\n    get () {\n      return this.client.y\n    },\n    set (value) {\n      this.client.y = value\n    },\n  },\n\n  dx: {\n    get () {\n      return this.delta.x\n    },\n    set (value) {\n      this.delta.x = value\n    },\n  },\n  dy: {\n    get () {\n      return this.delta.y\n    },\n    set (value) {\n      this.delta.y = value\n    },\n  },\n\n  velocityX: {\n    get () {\n      return this.velocity.x\n    },\n    set (value) {\n      this.velocity.x = value\n    },\n  },\n  velocityY: {\n    get () {\n      return this.velocity.y\n    },\n    set (value) {\n      this.velocity.y = value\n    },\n  },\n})\n"
	]
}