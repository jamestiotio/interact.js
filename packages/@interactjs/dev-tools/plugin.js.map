{
	"version": 3,
	"names": [
		"visualizer",
		"domObjects",
		"parentNode",
		"extend",
		"is",
		"isNonNativeEvent",
		"normalizeListeners",
		"win",
		"CheckName",
		"prefix",
		"links",
		"touchAction",
		"boxSizing",
		"isProduction",
		"install",
		"scope",
		"logger",
		"Interactable",
		"defaults",
		"console",
		"base",
		"devTools",
		"ignore",
		"prototype",
		"options",
		"_onOff",
		"method",
		"typeArg",
		"listenerArg",
		"filter",
		"string",
		"target",
		"addEventListener",
		"call",
		"object",
		"array",
		"normalizedListeners",
		"type",
		"actions",
		"warn",
		"usePlugin",
		"checks",
		"name",
		"perform",
		"element",
		"parentHasStyle",
		"getInfo",
		"text",
		"interaction",
		"prepared",
		"HTMLElement",
		"hasStyle",
		"noListeners",
		"actionName",
		"moveListeners",
		"interactable",
		"events",
		"types",
		"length",
		"prop",
		"styleRe",
		"value",
		"style",
		"window",
		"getComputedStyle",
		"test",
		"toString",
		"parent",
		"id",
		"defaultExport",
		"listeners",
		"check"
	],
	"sources": [
		"plugin.ts"
	],
	"sourcesContent": [
		"// eslint-disable-next-line import/no-extraneous-dependencies, import/no-duplicates\nimport '@interactjs/dev-tools/visualizer/plugin'\n\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { Element, OptionMethod } from '@interactjs/core/types'\n// eslint-disable-next-line import/no-extraneous-dependencies, import/no-duplicates\nimport visualizer from '@interactjs/dev-tools/visualizer/plugin'\nimport domObjects from '@interactjs/utils/domObjects'\nimport { parentNode } from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport isNonNativeEvent from '@interactjs/utils/isNonNativeEvent'\nimport normalizeListeners from '@interactjs/utils/normalizeListeners'\nimport * as win from '@interactjs/utils/window'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    logger: Logger\n  }\n}\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    visializer: typeof visualizer\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface BaseDefaults {\n    devTools?: DevToolsOptions\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    devTools: OptionMethod<DevToolsOptions>\n  }\n}\n\nexport interface DevToolsOptions {\n  ignore: { [P in keyof typeof CheckName]?: boolean }\n}\n\nexport interface Logger {\n  warn: (...args: any[]) => void\n  error: (...args: any[]) => void\n  log: (...args: any[]) => void\n}\n\nexport interface Check {\n  name: CheckName\n  text: string\n  perform: (interaction: Interaction) => boolean\n  getInfo: (interaction: Interaction) => any[]\n}\n\nenum CheckName {\n  touchAction = 'touchAction',\n  boxSizing = 'boxSizing',\n  noListeners = 'noListeners',\n}\n\nconst prefix = '[interact.js] '\nconst links = {\n  touchAction: 'https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action',\n  boxSizing: 'https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing',\n}\n\n// eslint-disable-next-line no-undef\nconst isProduction = process.env.NODE_ENV === 'production'\n\nfunction install (scope: Scope, { logger }: { logger?: Logger } = {}) {\n  const { Interactable, defaults } = scope\n\n  scope.logger = logger || console\n\n  defaults.base.devTools = {\n    ignore: {},\n  }\n\n  Interactable.prototype.devTools = function (options?: object) {\n    if (options) {\n      extend(this.options.devTools, options)\n      return this\n    }\n\n    return this.options.devTools\n  }\n\n  // can't set native events on non string targets without `addEventListener` prop\n  const { _onOff } = Interactable.prototype\n  Interactable.prototype._onOff = function (method, typeArg, listenerArg, options, filter) {\n    if (is.string(this.target) || this.target.addEventListener) {\n      return _onOff.call(this, method, typeArg, listenerArg, options, filter)\n    }\n\n    if (is.object(typeArg) && !is.array(typeArg)) {\n      options = listenerArg\n      listenerArg = null\n    }\n\n    const normalizedListeners = normalizeListeners(typeArg, listenerArg, filter)\n\n    for (const type in normalizedListeners) {\n      if (isNonNativeEvent(type, scope.actions)) continue\n      scope.logger.warn(\n        prefix +\n          `Can't add native \"${type}\" event listener to target without \\`addEventListener(type, listener, options)\\` prop.`,\n      )\n    }\n\n    return _onOff.call(this, method, normalizedListeners, options)\n  }\n  scope.usePlugin(visualizer)\n}\n\nconst checks: Check[] = [\n  {\n    name: CheckName.touchAction,\n    perform ({ element }) {\n      return !!element && !parentHasStyle(element, 'touchAction', /pan-|pinch|none/)\n    },\n    getInfo ({ element }) {\n      return [element, links.touchAction]\n    },\n    text: 'Consider adding CSS \"touch-action: none\" to this element\\n',\n  },\n\n  {\n    name: CheckName.boxSizing,\n    perform (interaction) {\n      const { element } = interaction\n\n      return (\n        interaction.prepared.name === 'resize' &&\n        element instanceof domObjects.HTMLElement &&\n        !hasStyle(element, 'boxSizing', /border-box/)\n      )\n    },\n    text: 'Consider adding CSS \"box-sizing: border-box\" to this resizable element',\n    getInfo ({ element }) {\n      return [element, links.boxSizing]\n    },\n  },\n\n  {\n    name: CheckName.noListeners,\n    perform (interaction) {\n      const actionName = interaction.prepared.name\n      const moveListeners = interaction.interactable?.events.types[`${actionName}move`] || []\n\n      return !moveListeners.length\n    },\n    getInfo (interaction) {\n      return [interaction.prepared.name, interaction.interactable]\n    },\n    text: 'There are no listeners set for this action',\n  },\n]\n\nfunction hasStyle (element: HTMLElement, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  const value = element.style[prop] || win.window.getComputedStyle(element)[prop]\n  return styleRe.test((value || '').toString())\n}\n\nfunction parentHasStyle (element: Element, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  let parent = element as HTMLElement\n\n  while (is.element(parent)) {\n    if (hasStyle(parent, prop, styleRe)) {\n      return true\n    }\n\n    parent = parentNode(parent) as HTMLElement\n  }\n\n  return false\n}\n\nconst id = 'dev-tools'\nconst defaultExport: Plugin = isProduction\n  ? { id, install: () => {} }\n  : {\n    id,\n    install,\n    listeners: {\n      'interactions:action-start': ({ interaction }, scope) => {\n        for (const check of checks) {\n          const options = interaction.interactable && interaction.interactable.options\n\n          if (\n            !(options && options.devTools && options.devTools.ignore[check.name]) &&\n              check.perform(interaction)\n          ) {\n            scope.logger.warn(prefix + check.text, ...check.getInfo(interaction))\n          }\n        }\n      },\n    },\n    checks,\n    CheckName,\n    links,\n    prefix,\n  }\n\nexport default defaultExport\n"
	],
	"mappings": "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"
}